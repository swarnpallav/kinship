# Google OAuth Setup Instructions

## Overview

This app now supports Google OAuth authentication with automatic college email detection and ID
verification for personal emails.

## Setup Steps

### 1. Google Cloud Console Setup

1. Go to [Google Cloud Console](https://console.cloud.google.com/)
2. Create a new project or select an existing one
3. Enable the Google+ API and Google OAuth2 API
4. Go to "Credentials" → "Create Credentials" → "OAuth 2.0 Client IDs"

### 2. Configure OAuth Client

1. **Application type**: Choose based on your platform:
   - For Expo managed workflow: Web application
   - For bare React Native: Android/iOS application
2. **Authorized redirect URIs**: Add your app's redirect URI
   - For Expo: Use the URI generated by `AuthSession.makeRedirectUri({ useProxy: true })`
   - For production: Use your custom scheme

### 3. Update Configuration

1. Replace `GOOGLE_CLIENT_ID` in `src/services/googleAuth.ts` with your actual client ID
2. For production builds, ensure you have the correct redirect URI configured

### 4. Environment Variables (Optional)

Create a `.env` file and add:

```
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
```

Then update the service to use environment variables:

```typescript
const GOOGLE_CLIENT_ID = process.env.GOOGLE_CLIENT_ID || 'your-fallback-client-id'
```

## Flow Description

### Step 1: Google Authentication

- User clicks "Continue with Google"
- App initiates Google OAuth flow
- User authenticates with Google and grants permissions

### Step 2: Email Verification

**College Email (.edu, .ac.uk, etc.)**

- Automatically verified
- User proceeds directly to profile setup

**Personal Email (gmail.com, yahoo.com, etc.)**

- Requires college ID card verification
- User uploads college ID photo
- Admin review required (1-2 business days)

## Supported College Domains

- `.edu` (US colleges)
- `.ac.uk` (UK universities)
- `.ac.in` (Indian colleges)
- `.edu.au` (Australian universities)
- `.ac.za` (South African universities)
- `.ac.nz` (New Zealand universities)

Additional domains can be added in `src/utils/validation.ts`

## Development Mode

The app currently uses mock Google authentication for development. To test different flows:

1. **College Email Flow**: Set mock email to `user@college.edu`
2. **Personal Email Flow**: Set mock email to `user@gmail.com`

Update the mock email in `src/services/googleAuth.ts` → `mockSignInWithGoogle()` method.

## Production Deployment

1. Replace mock authentication with real OAuth
2. Update client ID in the service
3. Configure proper redirect URIs
4. Test on actual devices with Google Play Services
